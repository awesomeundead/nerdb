<form class="forms">
    <input name="title" placeholder="Título" required="required" type="text" />
    <input name="developer" placeholder="Desenvolvedor" required="required" type="text" />
    <input name="genres" placeholder="Gêneros" type="text" />
    <input name="release_year" placeholder="Ano de lançamento" required="required" type="number" />
    <input name="steam" placeholder="Link Steam" type="text" />
    <button type="submit">Adicionar</button>
</form>

<script>

const form = document.querySelector('form.forms');
const submit = form.querySelector('[type="submit"]');

form.addEventListener('submit', e =>
{
    e.preventDefault();
    submit.disabled = true;

    sendJSON('post', 'api/v1/game', Object.fromEntries(new FormData(form)))
    .then(json =>
    {
        if (json.hasOwnProperty('status'))
        {
            notification(json.status, {success: 'Sucesso.', failure: 'Falha.'});

            if (json.status == 'success')
            {
                form.reset();
            }
        }

        submit.disabled = false;
    })
    .catch(error =>
    {
        submit.disabled = false;
        console.error(error);
    });
});

</script>